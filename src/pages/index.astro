---
import Layout from "../components/layout.astro";
import fetchApi from "../lib/strapi";

interface tournamentTypesIndex {
  id: string;
  attributes: {
    year: string;
  };
}
const tournaments = await fetchApi<tournamentTypesIndex[]>({
  endpoint: "tournaments",
  wrappedByKey: "data",
  populate: {
    year: {
      populate: true,
    },
  },
});
---

<Layout>
  <main>
    <ul>
      {
        tournaments.map((tournament) => (
          <li>
            <a href={`/tournaments/${tournament.attributes.year}`}>
              {tournament.attributes.year}
            </a>
          </li>
        ))
      }
    </ul>
  </main>
</Layout>
